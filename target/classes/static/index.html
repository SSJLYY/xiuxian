<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®ä»™æŒ‚æœºæ¸¸æˆ</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- ä½¿ç”¨æœ¬åœ°Font Awesomeå›¾æ ‡ä½œä¸ºå¤‡ç”¨ -->
    <style>
        /* å¤‡ç”¨å›¾æ ‡æ ·å¼ */
        .fa-user:before { content: "ğŸ‘¤"; }
        .fa-lock:before { content: "ğŸ”’"; }
        .fa-sign-in-alt:before { content: "ğŸ”‘"; }
        .fa-user-plus:before { content: "ğŸ‘¥"; }
        .fa-magic:before { content: "âœ¨"; }
        .fa-star:before { content: "â­"; }
        .fa-gem:before { content: "ğŸ’"; }
        .fa-coins:before { content: "ğŸ’°"; }
        .fa-sign-out-alt:before { content: "ğŸšª"; }
        .fa-chart-line:before { content: "ğŸ“Š"; }
        .fa-backpack:before { content: "ğŸ’"; }
        .fa-tasks:before { content: "ğŸ“‹"; }
        .fa-yin-yang:before { content: "â˜¯ï¸"; }
        .fa-play:before { content: "â–¶ï¸"; }
        .fa-user-circle:before { content: "ğŸ‘¨"; }
    </style>
</head>
<body>
    <!-- ç™»å½•ç•Œé¢ -->
    <div id="loginPage" class="container" style="display: block;">
        <div class="login-form">
            <h1><i class="fas fa-magic"></i> ä¿®ä»™æŒ‚æœºæ¸¸æˆ</h1>
            <div class="tabs">
                <button class="tab-btn active" onclick="showLogin()">ç™»å½•</button>
                <button class="tab-btn" onclick="showRegister()">æ³¨å†Œ</button>
            </div>
            
            <!-- ç™»å½•è¡¨å• -->
            <div id="loginForm" class="form-content">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="loginUsername" placeholder="ç”¨æˆ·å" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="å¯†ç " required>
                </div>
                <button class="btn btn-primary" onclick="login(event)">
                    <i class="fas fa-sign-in-alt"></i> ç™»å½•
                </button>
            </div>
            
            <!-- æ³¨å†Œè¡¨å• -->
            <div id="registerForm" class="form-content" style="display: none;">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="registerUsername" placeholder="ç”¨æˆ·å" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="registerNickname" placeholder="æ˜µç§°" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="registerEmail" placeholder="é‚®ç®±" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="registerPassword" placeholder="å¯†ç " required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="registerConfirmPassword" placeholder="ç¡®è®¤å¯†ç " required>
                </div>
                <button class="btn btn-primary" onclick="register(event)">
                    <i class="fas fa-user-plus"></i> æ³¨å†Œ
                </button>
            </div>
        </div>
    </div>

    <!-- æ¸¸æˆç•Œé¢ -->
    <div id="gamePage" class="container" style="display: none;">
        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <header class="game-header">
            <div class="player-info">
                <h2><i class="fas fa-user-circle"></i> <span id="playerName">ä¿®ä»™è€…</span></h2>
                <div class="player-stats">
                    <span><i class="fas fa-star"></i> ç­‰çº§: <span id="playerLevel">1</span></span>
                    <span><i class="fas fa-gem"></i> å¢ƒç•Œ: <span id="playerRealm">ç»ƒæ°”æœŸ</span></span>
                    <span><i class="fas fa-coins"></i> ç»éªŒ: <span id="playerExp">0</span>/<span id="expToNext">100</span></span>
                    <span><i class="fas fa-coins"></i> çµçŸ³: <span id="playerSpiritStones">1000</span></span>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> é€€å‡º
                </button>
            </div>
        </header>

        <!-- ä¸»æ¸¸æˆåŒºåŸŸ -->
        <main class="game-main">
            <!-- å·¦ä¾§é¢æ¿ -->
            <aside class="left-panel">
                <!-- è§’è‰²å±æ€§ -->
                <div class="panel-section">
                    <h3><i class="fas fa-chart-line"></i> è§’è‰²å±æ€§</h3>
                    <div class="attributes">
                        <div class="attribute">
                            <span>ç»éªŒå€¼</span>
                            <div class="progress-bar">
                                <div class="progress" id="expProgress" style="width: 0%"></div>
                            </div>
                            <span id="expText">0/100</span>
                        </div>
                        <div class="attribute">
                            <span>ç”Ÿå‘½å€¼</span>
                            <span id="playerHealth">100</span>
                        </div>
                        <div class="attribute">
                            <span>æ³•åŠ›å€¼</span>
                            <span id="playerMana">100</span>
                        </div>
                        <div class="attribute">
                            <span>æ”»å‡»åŠ›</span>
                            <span id="playerAttack">10</span>
                        </div>
                        <div class="attribute">
                            <span>é˜²å¾¡åŠ›</span>
                            <span id="playerDefense">5</span>
                        </div>
                    </div>
                </div>

                <!-- æŠ€èƒ½åˆ—è¡¨ -->
                <div class="panel-section">
                    <h3><i class="fas fa-magic"></i> æŠ€èƒ½</h3>
                    <div id="skillsList" class="skills-list">
                        <div class="skill-item">
                            <span>åŸºç¡€ä¿®ç‚¼æ³•</span>
                            <button class="btn btn-sm" onclick="useSkill('åŸºç¡€ä¿®ç‚¼æ³•')">ä½¿ç”¨</button>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- ä¸­å¤®æ¸¸æˆåŒºåŸŸ -->
            <section class="game-area">
                <div class="game-screen">
                    <div class="cultivation-area">
                        <h3><i class="fas fa-yin-yang"></i> ä¿®ç‚¼åŒºåŸŸ</h3>
                        <div class="cultivation-status">
                            <p id="cultivation-status">ç‚¹å‡»å¼€å§‹ä¿®ç‚¼</p>
                            <button id="cultivation-btn" class="btn btn-success" onclick="startCultivation()">
                                <i class="fas fa-play"></i> å¼€å§‹ä¿®ç‚¼
                            </button>
                        </div>
                        <div class="cultivation-log" id="cultivation-log">
                            <p>æ¬¢è¿æ¥åˆ°ä¿®ä»™ä¸–ç•Œï¼å¼€å§‹ä½ çš„ä¿®ç‚¼ä¹‹è·¯å§ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- å³ä¾§é¢æ¿ -->
            <aside class="right-panel">
                <!-- èƒŒåŒ… -->
                <div class="panel-section">
                    <h3><i class="fas fa-backpack"></i> èƒŒåŒ…</h3>
                    <div id="inventoryGrid" class="inventory-grid">
                        <div class="inventory-item">
                            <span>çµçŸ³</span>
                            <span>1000</span>
                        </div>
                    </div>
                </div>

                <!-- ä»»åŠ¡ -->
                <div class="panel-section">
                    <h3><i class="fas fa-tasks"></i> ä»»åŠ¡</h3>
                    <div id="questsList" class="quest-list">
                        <div class="quest-item">
                            <span>åˆæ¬¡ä¿®ç‚¼</span>
                            <span class="quest-reward">+10 ç»éªŒ</span>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- æ¶ˆæ¯æç¤º -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>
    
    <!-- åŠ è½½åŠ¨ç”» -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
        <span>åŠ è½½ä¸­...</span>
    </div>

    <!-- åŠ è½½è„šæœ¬ -->
    <script src="/js/main.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/game.js"></script>
</body>
</html>